---
import gold from "../../public/gold.png";
import playBtn from "../../public/play-btn.png";
import Image from "../../node_modules/astro/components/Image.astro";
---

<header class="header" id="header">
    <div class="header__black"></div>
    <Image src={gold} alt="Oro Patrimonio" class="header__img"></Image>
    <div class="header__title-container">
        <h1 class="header__title-container__title">Descubre la rentabilidad y seguridad que ofrece el oro</h1>
    </div>
    <div class="header__video-container">
        <video class="header__video-container__video header__video-container__video--1" controls>
            <source src="/Video.mp4" type="video/mp4">
          </video>
          <div class="header__video-container__video header__video-container__video--2">
            <Image src={playBtn} alt="Play Btn" class="header__video-container__video__play"></Image>
          </div>
    </div>
    <a href="#form-container"><button type="button" class="header__btn">¿Quieres saber más?</button></a>

</header>

<style lang="scss">
    .header{
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100vh;
        margin-bottom: 400px;

        &__img{
            width: 100vw;
            position: absolute;
            top: -60px;
            height: 120vh;
            z-index: -1;
        }

        &__title-container{
            display: flex;
            justify-content: center;
            align-items: center;

            &__title{
                color: #fff;
                font-size: 50px;
                width: 900px;
                margin-top: 10px;
                text-align: center;
                text-transform: uppercase;
                font-weight: bold;
                color: #FFB000;
            }
        }

        &__video-container{
            display: flex;
            justify-content: center;
            // position: relative;
            // top: 250px;

            &__video{
                margin-top: 50vh;
                height: 400px;
                width: 700px;
                outline: 10px solid #fff;
                border-radius: 20px;
                display: flex;
                justify-content: center;
                align-items: center;
                object-fit: cover;   

                &__play{
                    border-radius: 50%;
                    width: 100px;
                    height: 100px;
                    transition: all .5s;

                    &:hover{
                        box-shadow: 0px 0px 40px #ffa93f8c;
                        cursor: pointer;
                        scale: 1.15;
                    }
                }
            }

            &__video--1{
                height: 400px;
                width: 700px;
                display: none;
            }

            &__video--2{
                background: url("./video-bg.jpg");
                background-size: 700px 400px;
                background-repeat: no-repeat;
            }
        }

        &__btn{
            margin-top: 50px;
            background-color: #ffbc00;
            font-weight: bold;
            padding: 20px;
            font-size: 23.3px;
            outline: none;
            width: 300px;
            border: none;
            border-radius: 100px;
            transition: all 1s;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: 0.5s;
            transition-property: box-shadow;
            background: #ffbc00;
            box-shadow: 0 0 25px #ffbc00;

            &:hover{
                cursor: pointer;
                box-shadow: 0 0 5px #ffd666,
                0 0 25px #ffd666,
                0 0 50px #ffd666,
                0 0 100px #ffd666;

            //     &::before{
            //     content: "";
            //     position: absolute;
            //     width: 300px;
            //     height: 65px;
            //     z-index: -1;
            //     background-color: #0f0;
            //     background: linear-gradient(45deg, 
            //     #9e8b5a, #daa44f
            //     );
            //     padding: 20px;
            //     filter: blur(8px);
            //     background-size: 800%;
            //     border-radius: 40px;
            //     animation: glowing 20s linear infinite;
            // }
            }


            // @keyframes glowing{
            //     0%{
            //         background-position: 0 0;
            //     }

            //     50%{
            //         background-position: 400% 0;
            //     }

            //     100%{
            //         background-position: 0 0 ;
            //     }
            // }

        }
    
    }

    @media only screen and (min-width: 1600px){
        .header{
            margin-bottom: 600px;

            &__img{
                width: 101vw;
            }

            &__title-container{
                margin-top: 60px;

                &__title{
                    font-size: 60px;
                    width: 900px;
                }
            }

            &__video-container{

                &__video{
                    margin-top: 50vh;
                    height: 470px;
                    width: 780px;
                    background-size: 780px 470px;
                }

                &__video--1{
                    height: 440px;
                    width: 770px;
                }

                &__video--2{
                    background-size: 800px 470px;
                }
            }

            &__btn{
                width: 400px;
                padding: 25px;
                font-size: 28.3px;
            }
        }
    }

    @media only screen and (max-width: 320px){
        .header{
            margin-bottom: 100px;

            &__title-container{
                background-color: #000;
                width: 100vw;
                padding-bottom: 20px;

                &__title{
                    font-size: 30px;
                }
            }

            &__img{
                top: 100px;
                width: 100vw;
                height: 50vh;
                position: absolute;
                z-index: -10;
            }

            &__video-container{

                &__video{ 
                    margin-top: 20px;
                    width: 280px;
                    height: 200px;       

                    &__play{
                        width: 70px;
                    }
                }

                &__video--1{
                    width: 280px;
                    height: 200px;
                }

                &__video--2{
                    background-size: 280px 200px;
                }
            }
        }
    }

    @media only screen and (min-width: 321px) and (max-width: 480px){
        .header{
            margin-bottom: 100px;

            &__title-container{
                background-color: #000;
                width: 100vw;
            }

            &__img{
                width: 100vw;
                height: 40vh;
                position: absolute;
                z-index: -10;
                top: 170px;
            }

            &__title-container{

                &__title{
                    font-size: 46px;
                    width: 390px;
                }
            }

            &__video-container{

                &__video{  
                    margin-top: 150px;            
                    height: 200px;
                    width: 350px;
                    background-size: 350px 200px;

                    &__play{
                        width: 70px;
                    }
                }

                &__video--1{
                    width: 350px;
                    height: 200px;
                }

                &__video--2{
                    background-size: 350px 200px;
                }
            }
        }
    }

    @media only screen and (min-width: 801px) and (max-width: 900px){
        .header{
            margin-bottom: 100px;

            &__title-container{
                background-color: #000;
                width: 100vw;
            }

            &__img{
                width: 100vw;
                height: 40vh;
                position: absolute;
                z-index: -10;
                top: 170px;
            }

            &__title-container{

                &__title{
                    font-size: 46px;
                    width: 390px;
                }
            }

            &__video-container{

                &__video{  
                    margin-top: 260px;              
                    height: 300px;
                    width: 500px;
                    background-size: 500px 300px;
                }
            }
        }
    }

    @media only screen and (min-width: 700px) and (max-width: 800px){
        .header{
            margin-bottom: 600px;

            &__title-container{
                background-color: #000;
                width: 100vw;
            }

            &__img{
                width: 100vw;
                height: 100vh;
                position: absolute;
                z-index: -10;
                top: 170px;
            }

            &__title-container{

                &__title{
                    font-size: 46px;
                    width: 390px;
                }
            }

            &__video-container{

                &__video{  
                    margin-top: 260px;              
                    height: 300px;
                    width: 500px;
                    background-size: 500px 300px;
                }
            }
        }
    }
</style>

<!-- <script src="./emailJs.js"></script> -->

<script is:inline>
    const videoContainer = document.querySelectorAll(".header__video-container__video");
    // videoContainer.forEach(video =>{
    //     console.log(video);
    // })
    console.log(videoContainer[1].style.background);
    const video1 = document.querySelector('.header__video-container__video--1');
    const video2 = document.querySelector('.header__video-container__video--2');
    const playBtn = document.querySelector('.header__video-container__video__play');

    playBtn.addEventListener('click', () =>{
        video1.style.display = 'block';
        video2.style.display = 'none'; 

        video1.play();
        video1.volume = '0.5';
    })

</script>